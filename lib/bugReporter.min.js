!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bugReporter",[],t):"object"==typeof exports?exports.bugReporter=t():e.bugReporter=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=window.bugReporter||{};!function(){if(!window.bugReporter){var e=function(){return(new Date).getTime()};o.getTimeStamp=e;var t=function(){for(var e=!1,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,o=t.length;n<o;n++){try{e=t[n]()}catch(e){continue}break}return e},r=function e(t,o){var r=[];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?o+"["+i+"]":i,c=t[i];r.push("object"===("undefined"==typeof c?"undefined":n(c))?e(c,a):encodeURIComponent(a)+"="+encodeURIComponent(c))}return r.join("&")};o.formatParams=r;var i=function(n,o,i,a,c){var u=t();return u?(n=n.toUpperCase(),"GET"===n&&(o=o+"?"+r(i)+"&_t="+e(),i=null),u.open(n,o,!0),"POST"===n?u.setRequestHeader("Content-type","application/x-www-form-urlencoded"):"JSON"===n&&u.setRequestHeader("Content-type","application/json;charset=UTF-8"),u.onreadystatechange=function(){4===u.readyState&&(u.status>=200&&u.status<300?a&&a(u.responseText):c&&c(u))},void u.send(i)):c&&c(u)};o.report=i;var a=function(e){o.window.length&&(e.window={});for(var t=0,n=o.window.length;t<n;t++)e.window[o.window[t]]=window[o.window[t]];o.navigator.length&&(e.navigator={});for(var r=0,a=o.navigator.length;r<a;r++)e.navigator[o.navigator[r]]=window.navigator[o.navigator[r]];o.screen.length&&(e.screen={});for(var c=0,u=o.screen.length;c<u;c++)e.screen[o.screen[c]]=window.screen[o.screen[c]];var s=JSON.stringify(e);o.sdk.ins&&o.sdk.save(e),o.url&&i(o.type,o.url,s,o.success,o.fail),o.debug&&console.log(s)},c=function(t,n,r,i,c){return t.toLowerCase().indexOf("script error")>-1||!n?!o.output:(setTimeout(function(){var o=null;if(c&&(c.stack||c.stacktrace))o=(c.stack||c.stacktrace).toString();else if(arguments.callee){for(var u=[],s=arguments.callee.caller,p=3;s&&--p>0&&(u.push(s.toString()),s!==s.caller);)s=s.caller;o=u.join(",")}a({time:e(),msg:t,url:n,line:r,col:i||window.event&&window.event.errorCharacter||0,err:c,stack:o})},0),!o.output)};o.injectSDK=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("async","async"),t.src=o.sdk.url,t.readyState?t.onreadystatechange=function(){"complete"===this.readyState&&(t.onreadystatechange=null,e&&e())}:t.onload=function(){t.onload=null,e&&e()};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),o.uninjectSDK=function(){t.parentNode.removeChild(t)}},o.initSDK=function(e,t,n){o.injectSDK(function(){setTimeout(function(){o.sdk.ins=o.sdk.init(e,t,n)},0)})},o.sdk={ins:null,url:"//cdn1.lncld.net/static/js/av-min-1.5.3.js",init:function(e,t,n){if(window.AV&&window.AV.init)return window.AV.init({appId:e,appKey:t}),window.AV.Object.extend(n)},save:function(e){var t=new o.sdk.ins;t.save(e).then(function(e){o.debug&&console.log(e)}).catch(function(e){o.debug&&console.error(e)})}},o.init=function(e){e&&(e.url||e.appId||e.appKey||e.appClass)&&(o.appId=e.appId,o.appKey=e.appKey,o.appClass=e.appClass,o.debug=e.debug||!1,o.output=e.output||!1,o.url=e.url,o.type=e.type||"GET",o.success=e.success||function(e){},o.fail=e.fail||function(e){},o.window=e.window||[],o.navigator=e.navigator||["language","platform","userAgent"],o.screen=e.screen||["width","height"],window.onerror=c,o.appId&&o.appKey&&o.appClass&&o.initSDK(o.appId,o.appKey,o.appClass))},o.destory=function(){window.onerror=null,o.sdk.ins&&o.uninjectSDK()},window.bugReporter=o}}(),t.default=o,e.exports=t.default}])});
//# sourceMappingURL=bugReporter.min.js.map
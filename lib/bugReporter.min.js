!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bugReporter",[],t):"object"==typeof exports?exports.bugReporter=t():e.bugReporter=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=window.bugReporter||{};!function(){if(!window.bugReporter){o.getTimeStamp=function(){return(new Date).getTime()},o.log=function(e){o.debug&&console.log(e)},o.procCatch=function(e){var t={msg:e.message,url:window.location.href,line:e.lineNumber,col:e.columnNumber,err:{name:e.name,number:e.number,description:e.description,file:e.fileName},stack:e.stack};o.sendData(t)},o.wrap=function(e){return e.__wrapped__||(e.__wrapped__=function(){try{return e.apply(this,arguments)}catch(e){throw o.procCatch(e),e}}),e.__wrapped__},o.invoke=o.wrap(function(e,t,n){return e[t].apply(this,n)});var e=function(){for(var e=!1,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0,o=t.length;n<o;n++){try{e=t[n]()}catch(e){continue}break}return e},t=function e(t,o){var r=[];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?o+"["+i+"]":i,c=t[i];r.push("object"===("undefined"==typeof c?"undefined":n(c))?e(c,a):encodeURIComponent(a)+"="+encodeURIComponent(c))}return r.join("&")};o.report=function(n,r,i,a,c){var u=e();return u?(n=n.toUpperCase(),"GET"===n&&(r=r+"?"+t(i)+"&_t="+o.getTimeStamp(),i=null),u.open(n,r,!0),"POST"===n?u.setRequestHeader("Content-type","application/x-www-form-urlencoded"):"JSON"===n&&u.setRequestHeader("Content-type","application/json;charset=UTF-8"),i&&(i=JSON.stringify(i)),u.onreadystatechange=function(){4===u.readyState&&(u.status>=200&&u.status<300?a&&a(u.responseText):c&&c(u))},void u.send(i)):c&&c(u)};var r=function(e,t){var n=o[t].length;if(n&&!(n<1))for(var r=e[t]={},i=0;i<n;i++)r[o[t][i]]="window"===t?window[o[t][i]]:window[t][o[t][i]]};o.sendData=function(e){e.time||(e.time=o.getTimeStamp()),r(e,"window"),r(e,"navigator"),r(e,"screen"),o.sdk.ins&&o.sdk.save(e),o.url&&o.report(o.type,o.url,e,o.success,o.fail),o.log(e)};var i=function(e,t,n,r,i){return e.toLowerCase().indexOf("script error")>-1||!t?!o.output:(setTimeout(function(){var a=null;if(i&&(i.stack||i.stacktrace))a=(i.stack||i.stacktrace).toString();else if(arguments.callee){for(var c=[],u=arguments.callee.caller,p=3;u&&--p>0&&(c.push(u.toString()),u!==u.caller);)u=u.caller;a=c.join(",")}o.sendData({msg:e,url:t,line:n,col:r||window.event&&window.event.errorCharacter||0,err:i,stack:a})},0),!o.output)};o.injectSDK=function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.async=!0,t.charset="utf-8",t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e&&e(t))}:t.onload=function(){t.onload=null,e&&e(t)},t.onerror=function(){},t.src=o.sdk.url+"?_t="+(new Date).getTime();var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),o.uninjectSDK=function(){t.parentNode.removeChild(t)}},o.initSDK=function(e,t,n){o.injectSDK(function(r){setTimeout(function(){o.sdk.ins=o.sdk.init(e,t,n)},0)})},o.sdk={ins:null,url:"//cdn1.lncld.net/static/js/av-min-1.5.3.js",init:function(e,t,n){if(window.AV&&window.AV.init)return window.AV.init({appId:e,appKey:t}),window.AV.Object.extend(n)},save:function(e){var t=new o.sdk.ins;t.save(e).then(function(e){o.log(e)}).catch(function(e){o.log(e)})}},o.init=function(e){e&&(e.url||e.appId||e.appKey||e.appClass)&&(o.appId=e.appId,o.appKey=e.appKey,o.appClass=e.appClass,o.debug=e.debug||!1,o.output=e.output||!1,o.url=e.url,o.type=e.type||"GET",o.success=e.success||function(e){},o.fail=e.fail||function(e){},o.window=e.window||[],o.navigator=e.navigator||["language","platform","userAgent"],o.screen=e.screen||["width","height"],window.onerror=i,o.appId&&o.appKey&&o.appClass&&o.initSDK(o.appId,o.appKey,o.appClass))},o.destory=function(){window.onerror=null,o.sdk.ins&&o.uninjectSDK()}}}(),t.default=o,e.exports=t.default}])});
//# sourceMappingURL=bugReporter.min.js.map
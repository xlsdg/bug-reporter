{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 37e468a619bd49f04857","webpack:///./src/index.js"],"names":["bugReporter","window","getTimeStamp","Date","getTime","createXMLHTTPObject","xmlhttp","XMLHttpFactories","XMLHttpRequest","ActiveXObject","i","len","length","e","formatParams","params","prefix","str","p","Object","prototype","hasOwnProperty","call","k","v","push","encodeURIComponent","join","report","method","url","data","cbSucs","cbFail","req","toUpperCase","open","setRequestHeader","onreadystatechange","readyState","status","responseText","send","procData","wLen","navigator","j","nLen","screen","sLen","bug","JSON","stringify","sdk","ins","save","type","success","fail","debug","console","log","procError","msg","line","col","err","toLowerCase","indexOf","output","setTimeout","stack","stacktrace","toString","arguments","callee","ext","f","caller","c","time","event","errorCharacter","injectSDK","cb","av","document","createElement","setAttribute","src","onload","s","getElementsByTagName","parentNode","insertBefore","uninjectSDK","removeChild","initSDK","appId","appKey","appClass","init","AV","extend","lc","then","obj","catch","error","opts","text","onerror","destory"],"mappings":"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","file":"bugReporter.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"bugReporter\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bugReporter\"] = factory();\n\telse\n\t\troot[\"bugReporter\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 37e468a619bd49f04857","\nconst bugReporter = window.bugReporter || {};\n\n(function() {\n  if (window.bugReporter) {\n    return;\n  }\n\n  const getTimeStamp = function() {\n    return (new Date()).getTime();\n  };\n  bugReporter.getTimeStamp = getTimeStamp;\n\n  const createXMLHTTPObject = function() {\n    let xmlhttp = false;\n    const XMLHttpFactories = [\n      function() {\n        return new XMLHttpRequest();\n      },\n      function() {\n        return new ActiveXObject('Msxml2.XMLHTTP');\n      },\n      function() {\n        return new ActiveXObject('Msxml3.XMLHTTP');\n      },\n      function() {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n      }\n    ];\n\n    for (let i = 0, len = XMLHttpFactories.length; i < len; i++) {\n      try {\n        xmlhttp = XMLHttpFactories[i]();\n      } catch (e) {\n        continue;\n      }\n      break;\n    }\n\n    return xmlhttp;\n  };\n\n  const formatParams = function(params, prefix) {\n    let str = [];\n    for (let p in params) {\n      if (Object.prototype.hasOwnProperty.call(params, p)) {\n        const k = prefix ? `${prefix}[${p}]` : p;\n        const v = params[p];\n        str.push((typeof v === 'object')\n          ? formatParams(v, k)\n          : (encodeURIComponent(k) + '=' + encodeURIComponent(v))\n        );\n      }\n    }\n    return str.join('&');\n  };\n  bugReporter.formatParams = formatParams;\n\n  const report = function(method, url, data, cbSucs, cbFail) {\n    const req = createXMLHTTPObject();\n    if (!req) {\n      return cbFail && cbFail(req);\n    }\n\n    method = method.toUpperCase();\n    if (method === 'GET') {\n      url = `${url}?${formatParams(data)}&_t=${getTimeStamp()}`;\n      data = null;\n    }\n\n    req.open(method, url, true);\n    if (method === 'POST') {\n      req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    } else if (method === 'JSON') {\n      req.setRequestHeader('Content-type', 'application/json;charset=UTF-8');\n    }\n\n    req.onreadystatechange = function() {\n      if (req.readyState === 4) {\n        if ((req.status >= 200) && (req.status < 300)) {\n          cbSucs && cbSucs(req.responseText);\n        } else {\n          cbFail && cbFail(req);\n        }\n      }\n    };\n\n    req.send(data);\n  };\n  bugReporter.report = report;\n\n  const procData = function(data) {\n    if (bugReporter.window.length) {\n      data.window = {};\n    }\n    for(let i = 0, wLen = bugReporter.window.length; i < wLen; i++) {\n      data.window[bugReporter.window[i]] = window[bugReporter.window[i]];\n    }\n\n    if (bugReporter.navigator.length) {\n      data.navigator = {};\n    }\n    for(let j = 0, nLen = bugReporter.navigator.length; j < nLen; j++) {\n      data.navigator[bugReporter.navigator[j]] = window.navigator[bugReporter.navigator[j]];\n    }\n\n    if (bugReporter.screen.length) {\n      data.screen = {};\n    }\n    for(let k = 0, sLen = bugReporter.screen.length; k < sLen; k++) {\n      data.screen[bugReporter.screen[k]] = window.screen[bugReporter.screen[k]];\n    }\n\n    const bug = JSON.stringify(data);\n\n    if (bugReporter.sdk.ins) {\n      bugReporter.sdk.save(data);\n    }\n\n    if (bugReporter.url) {\n      report(bugReporter.type, bugReporter.url,\n        bug,\n        bugReporter.success,\n        bugReporter.fail\n      );\n    }\n\n    bugReporter.debug && console.log(bug);\n  };\n\n  const procError = function(msg, url, line, col, err) {\n    // 没有URL不上报！上报也不知道错误\n    if ((msg.toLowerCase().indexOf('script error') > -1) || !url) {\n      return !bugReporter.output;\n    }\n\n    setTimeout(function() {\n      let stack = null;\n      if (!!err && (!!err.stack || !!err.stacktrace)) {\n        //如果浏览器有堆栈信息 直接使用\n        stack = (err.stack || err.stacktrace).toString();\n      } else if (!!arguments.callee) { //尝试通过callee拿堆栈信息\n        let ext = [];\n        let f = arguments.callee.caller;\n        let c = 3; //这里只拿三层堆栈信息\n        while (f && (--c > 0)) {\n          ext.push(f.toString());\n          if (f === f.caller) {\n            break; //如果有环\n          }\n          f = f.caller;\n        }\n        stack = ext.join(',');\n      }\n\n      procData({\n        time: getTimeStamp(),\n        msg, url, line,\n        col: col || (window.event && window.event.errorCharacter) || 0,\n        err, stack\n      });\n    }, 0);\n\n    // 让浏览器不输出错误信息到控制台\n    return !bugReporter.output;\n  };\n\n  bugReporter.injectSDK = function(cb) {\n    const av = document.createElement('script');\n    av.setAttribute('type', 'text/javascript');\n    av.src = bugReporter.sdk.url;\n    if (av.readyState) {\n      av.onreadystatechange = function() {\n        if (this.readyState === 'complete') {\n          av.onreadystatechange = null;\n          cb && cb();\n        }\n      };\n    } else {\n      av.onload = function() {\n        av.onload = null;\n        cb && cb();\n      };\n    }\n    const s = document.getElementsByTagName('script')[0];\n    s.parentNode.insertBefore(av, s);\n\n    bugReporter.uninjectSDK = function() {\n      av.parentNode.removeChild(av);\n    };\n  };\n\n  bugReporter.initSDK = function(appId, appKey, appClass) {\n    bugReporter.injectSDK(function() {\n      setTimeout(function() {\n        bugReporter.sdk.ins = bugReporter.sdk.init(appId, appKey, appClass);\n      }, 0);\n    });\n  };\n\n  bugReporter.sdk = {\n    ins: null,\n    url: '//cdn1.lncld.net/static/js/av-min-1.5.3.js',\n    init: function(appId, appKey, appClass) {\n      if (window.AV && window.AV.init) {\n        window.AV.init({\n          appId, appKey\n        });\n        return window.AV.Object.extend(appClass);\n      }\n    },\n    save: function(data) {\n      const lc = new bugReporter.sdk.ins();\n      lc.save(data)\n        .then(function(obj) {\n          bugReporter.debug && console.log(obj);\n        }).catch(function(err) {\n          bugReporter.debug && console.error(err);\n        }\n      );\n    }\n  };\n\n  bugReporter.init = function(opts) {\n    if (!opts || (!opts.url && !opts.appId && !opts.appKey && !opts.appClass)) {\n      return;\n    }\n\n    bugReporter.appId = opts.appId;\n    bugReporter.appKey = opts.appKey;\n    bugReporter.appClass = opts.appClass;\n\n    bugReporter.debug = opts.debug || false;\n    bugReporter.output = opts.output || false;\n\n    bugReporter.url = opts.url;\n    bugReporter.type = opts.type || 'GET';\n    bugReporter.success = opts.success || function(text) {};\n    bugReporter.fail = opts.fail || function(req) {};\n\n    bugReporter.window = opts.window || [];\n    bugReporter.navigator = opts.navigator || ['language', 'platform', 'userAgent'];\n    bugReporter.screen = opts.screen || ['width', 'height'];\n\n    window.onerror = procError;\n\n    if (bugReporter.appId && bugReporter.appKey && bugReporter.appClass) {\n      bugReporter.initSDK(\n        bugReporter.appId,\n        bugReporter.appKey,\n        bugReporter.appClass\n      );\n    }\n  };\n\n  bugReporter.destory = function() {\n    window.onerror = null;\n    if (bugReporter.sdk.ins) {\n      bugReporter.uninjectSDK();\n    }\n  };\n\n  window.bugReporter = bugReporter;\n})();\n\nexport default bugReporter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}
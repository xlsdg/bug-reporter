{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d2d2e6d42a31c94b3fe4","webpack:///./src/index.js"],"names":["bugReporter","window","getTimeStamp","Date","getTime","log","content","debug","console","procCatch","err","data","time","msg","message","url","location","href","line","lineNumber","col","columnNumber","name","number","description","file","fileName","stack","procData","wrap","fn","__wrapped__","apply","arguments","invoke","obj","method","args","createXMLHTTPObject","xmlhttp","XMLHttpFactories","XMLHttpRequest","ActiveXObject","i","len","length","e","formatParams","params","prefix","str","p","Object","prototype","hasOwnProperty","call","k","v","push","encodeURIComponent","join","report","cbSucs","cbFail","req","toUpperCase","open","setRequestHeader","JSON","stringify","onreadystatechange","readyState","status","responseText","send","wLen","navigator","j","nLen","screen","sLen","sdk","ins","save","type","success","fail","procError","toLowerCase","indexOf","output","setTimeout","stacktrace","toString","callee","ext","f","caller","c","event","errorCharacter","injectSDK","cb","av","document","createElement","setAttribute","src","onload","s","getElementsByTagName","parentNode","insertBefore","uninjectSDK","removeChild","initSDK","appId","appKey","appClass","init","AV","extend","lc","then","catch","opts","text","onerror","destory"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACrCA,KAAMA,cAAcC,OAAOD,WAAP,IAAsB,EAA1C;;AAEA,EAAC,YAAW;AACV,OAAIC,OAAOD,WAAX,EAAwB;AACtB;AACD;;AAEDA,eAAYE,YAAZ,GAA2B,YAAW;AACpC,YAAQ,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAP;AACD,IAFD;;AAIAJ,eAAYK,GAAZ,GAAkB,UAASC,OAAT,EAAkB;AAClC,SAAIN,YAAYO,KAAhB,EAAuB;AACrBC,eAAQH,GAAR,CAAYC,OAAZ;AACD;AACF,IAJD;;AAMAN,eAAYS,SAAZ,GAAwB,UAASC,GAAT,EAAc;AACpC,SAAMC,OAAO;AACXC,aAAMZ,YAAYE,YAAZ,EADK;AAEXW,YAAKH,IAAII,OAFE;AAGXC,YAAKd,OAAOe,QAAP,CAAgBC,IAHV;AAIXC,aAAMR,IAAIS,UAJC;AAKXC,YAAKV,IAAIW,YALE;AAMXX,YAAK;AACHY,eAAMZ,IAAIY,IADP;AAEHC,iBAAQb,IAAIa,MAFT;AAGHC,sBAAad,IAAIc,WAHd;AAIHC,eAAMf,IAAIgB;AAJP,QANM;AAYXC,cAAOjB,IAAIiB;AAZA,MAAb;AAcAC,cAASjB,IAAT;AACD,IAhBD;;AAkBAX,eAAY6B,IAAZ,GAAmB,UAASC,EAAT,EAAa;AAC9B,SAAI,CAACA,GAAGC,WAAR,EAAqB;AACnBD,UAAGC,WAAH,GAAiB,YAAW;AAC1B,aAAI;AACF,kBAAOD,GAAGE,KAAH,CAAS,IAAT,EAAeC,SAAf,CAAP;AACD,UAFD,CAEE,OAAOvB,GAAP,EAAY;AACZV,uBAAYS,SAAZ,CAAsBC,GAAtB;AACA,iBAAMA,GAAN;AACD;AACF,QAPD;AAQD;AACD,YAAOoB,GAAGC,WAAV;AACD,IAZD;;AAcA/B,eAAYkC,MAAZ,GAAqBlC,YAAY6B,IAAZ,CAAiB,UAASM,GAAT,EAAcC,MAAd,EAAsBC,IAAtB,EAA4B;AAChE,YAAOF,IAAIC,MAAJ,EAAYJ,KAAZ,CAAkB,IAAlB,EAAwBK,IAAxB,CAAP;AACD,IAFoB,CAArB;;AAIA,OAAMC,sBAAsB,SAAtBA,mBAAsB,GAAW;AACrC,SAAIC,UAAU,KAAd;AACA,SAAMC,mBAAmB,CACvB,YAAW;AACT,cAAO,IAAIC,cAAJ,EAAP;AACD,MAHsB,EAIvB,YAAW;AACT,cAAO,IAAIC,aAAJ,CAAkB,gBAAlB,CAAP;AACD,MANsB,EAOvB,YAAW;AACT,cAAO,IAAIA,aAAJ,CAAkB,gBAAlB,CAAP;AACD,MATsB,EAUvB,YAAW;AACT,cAAO,IAAIA,aAAJ,CAAkB,mBAAlB,CAAP;AACD,MAZsB,CAAzB;;AAeA,UAAK,IAAIC,IAAI,CAAR,EAAWC,MAAMJ,iBAAiBK,MAAvC,EAA+CF,IAAIC,GAAnD,EAAwDD,GAAxD,EAA6D;AAC3D,WAAI;AACFJ,mBAAUC,iBAAiBG,CAAjB,GAAV;AACD,QAFD,CAEE,OAAOG,CAAP,EAAU;AACV;AACD;AACD;AACD;;AAED,YAAOP,OAAP;AACD,IA3BD;;AA6BA,OAAMQ,eAAe,SAAfA,YAAe,CAASC,MAAT,EAAiBC,MAAjB,EAAyB;AAC5C,SAAIC,MAAM,EAAV;AACA,UAAK,IAAIC,CAAT,IAAcH,MAAd,EAAsB;AACpB,WAAII,OAAOC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCP,MAArC,EAA6CG,CAA7C,CAAJ,EAAqD;AACnD,aAAMK,IAAIP,SAAYA,MAAZ,SAAsBE,CAAtB,SAA6BA,CAAvC;AACA,aAAMM,IAAIT,OAAOG,CAAP,CAAV;AACAD,aAAIQ,IAAJ,CAAU,QAAOD,CAAP,yCAAOA,CAAP,OAAa,QAAd,GACLV,aAAaU,CAAb,EAAgBD,CAAhB,CADK,GAEJG,mBAAmBH,CAAnB,IAAwB,GAAxB,GAA8BG,mBAAmBF,CAAnB,CAFnC;AAID;AACF;AACD,YAAOP,IAAIU,IAAJ,CAAS,GAAT,CAAP;AACD,IAbD;;AAeA5D,eAAY6D,MAAZ,GAAqB,UAASzB,MAAT,EAAiBrB,GAAjB,EAAsBJ,IAAtB,EAA4BmD,MAA5B,EAAoCC,MAApC,EAA4C;AAC/D,SAAMC,MAAM1B,qBAAZ;AACA,SAAI,CAAC0B,GAAL,EAAU;AACR,cAAOD,UAAUA,OAAOC,GAAP,CAAjB;AACD;;AAED5B,cAASA,OAAO6B,WAAP,EAAT;AACA,SAAI7B,WAAW,KAAf,EAAsB;AACpBrB,aAASA,GAAT,SAAgBgC,aAAapC,IAAb,CAAhB,YAAyCX,YAAYE,YAAZ,EAAzC;AACAS,cAAO,IAAP;AACD;;AAEDqD,SAAIE,IAAJ,CAAS9B,MAAT,EAAiBrB,GAAjB,EAAsB,IAAtB;AACA,SAAIqB,WAAW,MAAf,EAAuB;AACrB4B,WAAIG,gBAAJ,CAAqB,cAArB,EAAqC,mCAArC;AACD,MAFD,MAEO,IAAI/B,WAAW,MAAf,EAAuB;AAC5B4B,WAAIG,gBAAJ,CAAqB,cAArB,EAAqC,gCAArC;AACD;;AAED,SAAIxD,IAAJ,EAAU;AACRA,cAAOyD,KAAKC,SAAL,CAAe1D,IAAf,CAAP;AACD;;AAEDqD,SAAIM,kBAAJ,GAAyB,YAAW;AAClC,WAAIN,IAAIO,UAAJ,KAAmB,CAAvB,EAA0B;AACxB,aAAKP,IAAIQ,MAAJ,IAAc,GAAf,IAAwBR,IAAIQ,MAAJ,GAAa,GAAzC,EAA+C;AAC7CV,qBAAUA,OAAOE,IAAIS,YAAX,CAAV;AACD,UAFD,MAEO;AACLV,qBAAUA,OAAOC,GAAP,CAAV;AACD;AACF;AACF,MARD;;AAUAA,SAAIU,IAAJ,CAAS/D,IAAT;AACD,IAlCD;;AAoCA,OAAMiB,WAAW,SAAXA,QAAW,CAASjB,IAAT,EAAe;AAC9B,SAAIX,YAAYC,MAAZ,CAAmB4C,MAAvB,EAA+B;AAC7BlC,YAAKV,MAAL,GAAc,EAAd;AACD;AACD,UAAI,IAAI0C,IAAI,CAAR,EAAWgC,OAAO3E,YAAYC,MAAZ,CAAmB4C,MAAzC,EAAiDF,IAAIgC,IAArD,EAA2DhC,GAA3D,EAAgE;AAC9DhC,YAAKV,MAAL,CACED,YAAYC,MAAZ,CAAmB0C,CAAnB,CADF,IAEI1C,OACFD,YAAYC,MAAZ,CAAmB0C,CAAnB,CADE,CAFJ;AAKD;;AAED,SAAI3C,YAAY4E,SAAZ,CAAsB/B,MAA1B,EAAkC;AAChClC,YAAKiE,SAAL,GAAiB,EAAjB;AACD;AACD,UAAI,IAAIC,IAAI,CAAR,EAAWC,OAAO9E,YAAY4E,SAAZ,CAAsB/B,MAA5C,EAAoDgC,IAAIC,IAAxD,EAA8DD,GAA9D,EAAmE;AACjElE,YAAKiE,SAAL,CACE5E,YAAY4E,SAAZ,CAAsBC,CAAtB,CADF,IAEI5E,OAAO2E,SAAP,CACF5E,YAAY4E,SAAZ,CAAsBC,CAAtB,CADE,CAFJ;AAKD;;AAED,SAAI7E,YAAY+E,MAAZ,CAAmBlC,MAAvB,EAA+B;AAC7BlC,YAAKoE,MAAL,GAAc,EAAd;AACD;AACD,UAAI,IAAIvB,IAAI,CAAR,EAAWwB,OAAOhF,YAAY+E,MAAZ,CAAmBlC,MAAzC,EAAiDW,IAAIwB,IAArD,EAA2DxB,GAA3D,EAAgE;AAC9D7C,YAAKoE,MAAL,CACE/E,YAAY+E,MAAZ,CAAmBvB,CAAnB,CADF,IAEIvD,OAAO8E,MAAP,CACF/E,YAAY+E,MAAZ,CAAmBvB,CAAnB,CADE,CAFJ;AAKD;;AAED,SAAIxD,YAAYiF,GAAZ,CAAgBC,GAApB,EAAyB;AACvBlF,mBAAYiF,GAAZ,CAAgBE,IAAhB,CAAqBxE,IAArB;AACD;;AAED,SAAIX,YAAYe,GAAhB,EAAqB;AACnBf,mBAAY6D,MAAZ,CAAmB7D,YAAYoF,IAA/B,EAAqCpF,YAAYe,GAAjD,EACEJ,IADF,EAEEX,YAAYqF,OAFd,EAGErF,YAAYsF,IAHd;AAKD;;AAEDtF,iBAAYK,GAAZ,CAAgBM,IAAhB;AACD,IA/CD;;AAiDA,OAAM4E,YAAY,SAAZA,SAAY,CAAS1E,GAAT,EAAcE,GAAd,EAAmBG,IAAnB,EAAyBE,GAAzB,EAA8BV,GAA9B,EAAmC;AACnD;AACA,SAAKG,IAAI2E,WAAJ,GAAkBC,OAAlB,CAA0B,cAA1B,IAA4C,CAAC,CAA9C,IAAoD,CAAC1E,GAAzD,EAA8D;AAC5D,cAAO,CAACf,YAAY0F,MAApB;AACD;;AAEDC,gBAAW,YAAW;AACpB,WAAIhE,QAAQ,IAAZ;AACA,WAAI,CAAC,CAACjB,GAAF,KAAU,CAAC,CAACA,IAAIiB,KAAN,IAAe,CAAC,CAACjB,IAAIkF,UAA/B,CAAJ,EAAgD;AAC9C;AACAjE,iBAAQ,CAACjB,IAAIiB,KAAJ,IAAajB,IAAIkF,UAAlB,EAA8BC,QAA9B,EAAR;AACD,QAHD,MAGO,IAAI,CAAC,CAAC5D,UAAU6D,MAAhB,EAAwB;AAAE;AAC/B,aAAIC,MAAM,EAAV;AACA,aAAIC,IAAI/D,UAAU6D,MAAV,CAAiBG,MAAzB;AACA,aAAIC,IAAI,CAAR,CAH6B,CAGlB;AACX,gBAAOF,KAAM,EAAEE,CAAF,GAAM,CAAnB,EAAuB;AACrBH,eAAIrC,IAAJ,CAASsC,EAAEH,QAAF,EAAT;AACA,eAAIG,MAAMA,EAAEC,MAAZ,EAAoB;AAClB,mBADkB,CACX;AACR;AACDD,eAAIA,EAAEC,MAAN;AACD;AACDtE,iBAAQoE,IAAInC,IAAJ,CAAS,GAAT,CAAR;AACD;;AAEDhC,gBAAS;AACPhB,eAAMZ,YAAYE,YAAZ,EADC;AAEPW,iBAFO,EAEFE,QAFE,EAEGG,UAFH;AAGPE,cAAKA,OAAQnB,OAAOkG,KAAP,IAAgBlG,OAAOkG,KAAP,CAAaC,cAArC,IAAwD,CAHtD;AAIP1F,iBAJO,EAIFiB;AAJE,QAAT;AAMD,MAzBD,EAyBG,CAzBH;;AA2BA;AACA,YAAO,CAAC3B,YAAY0F,MAApB;AACD,IAnCD;;AAqCA1F,eAAYqG,SAAZ,GAAwB,UAASC,EAAT,EAAa;AACnC,SAAMC,KAAKC,SAASC,aAAT,CAAuB,QAAvB,CAAX;AACAF,QAAGG,YAAH,CAAgB,MAAhB,EAAwB,iBAAxB;AACAH,QAAGG,YAAH,CAAgB,OAAhB,EAAyB,OAAzB;AACAH,QAAGI,GAAH,GAAS3G,YAAYiF,GAAZ,CAAgBlE,GAAzB;AACA,SAAIwF,GAAGhC,UAAP,EAAmB;AACjBgC,UAAGjC,kBAAH,GAAwB,YAAW;AACjC,aAAI,KAAKC,UAAL,KAAoB,UAAxB,EAAoC;AAClCgC,cAAGjC,kBAAH,GAAwB,IAAxB;AACAgC,iBAAMA,IAAN;AACD;AACF,QALD;AAMD,MAPD,MAOO;AACLC,UAAGK,MAAH,GAAY,YAAW;AACrBL,YAAGK,MAAH,GAAY,IAAZ;AACAN,eAAMA,IAAN;AACD,QAHD;AAID;AACD,SAAMO,IAAIL,SAASM,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAAV;AACAD,OAAEE,UAAF,CAAaC,YAAb,CAA0BT,EAA1B,EAA8BM,CAA9B;;AAEA7G,iBAAYiH,WAAZ,GAA0B,YAAW;AACnCV,UAAGQ,UAAH,CAAcG,WAAd,CAA0BX,EAA1B;AACD,MAFD;AAGD,IAxBD;;AA0BAvG,eAAYmH,OAAZ,GAAsB,UAASC,KAAT,EAAgBC,MAAhB,EAAwBC,QAAxB,EAAkC;AACtDtH,iBAAYqG,SAAZ,CAAsB,YAAW;AAC/BV,kBAAW,YAAW;AACpB3F,qBAAYiF,GAAZ,CAAgBC,GAAhB,GAAsBlF,YAAYiF,GAAZ,CAAgBsC,IAAhB,CAAqBH,KAArB,EAA4BC,MAA5B,EAAoCC,QAApC,CAAtB;AACD,QAFD,EAEG,CAFH;AAGD,MAJD;AAKD,IAND;;AAQAtH,eAAYiF,GAAZ,GAAkB;AAChBC,UAAK,IADW;AAEhBnE,UAAK,4CAFW;AAGhBwG,WAAM,cAASH,KAAT,EAAgBC,MAAhB,EAAwBC,QAAxB,EAAkC;AACtC,WAAIrH,OAAOuH,EAAP,IAAavH,OAAOuH,EAAP,CAAUD,IAA3B,EAAiC;AAC/BtH,gBAAOuH,EAAP,CAAUD,IAAV,CAAe;AACbH,uBADa,EACNC;AADM,UAAf;AAGA,gBAAOpH,OAAOuH,EAAP,CAAUpE,MAAV,CAAiBqE,MAAjB,CAAwBH,QAAxB,CAAP;AACD;AACF,MAVe;AAWhBnC,WAAM,cAASxE,IAAT,EAAe;AACnB,WAAM+G,KAAK,IAAI1H,YAAYiF,GAAZ,CAAgBC,GAApB,EAAX;AACAwC,UAAGvC,IAAH,CAAQxE,IAAR,EACGgH,IADH,CACQ,UAASxF,GAAT,EAAc;AAClBnC,qBAAYK,GAAZ,CAAgB8B,GAAhB;AACD,QAHH,EAGKyF,KAHL,CAGW,UAASlH,GAAT,EAAc;AACrBV,qBAAYK,GAAZ,CAAgBK,GAAhB;AACD,QALH;AAOD;AApBe,IAAlB;;AAuBAV,eAAYuH,IAAZ,GAAmB,UAASM,IAAT,EAAe;AAChC,SAAI,CAACA,IAAD,IAAU,CAACA,KAAK9G,GAAN,IAAa,CAAC8G,KAAKT,KAAnB,IAA4B,CAACS,KAAKR,MAAlC,IAA4C,CAACQ,KAAKP,QAAhE,EAA2E;AACzE;AACD;;AAEDtH,iBAAYoH,KAAZ,GAAoBS,KAAKT,KAAzB;AACApH,iBAAYqH,MAAZ,GAAqBQ,KAAKR,MAA1B;AACArH,iBAAYsH,QAAZ,GAAuBO,KAAKP,QAA5B;;AAEAtH,iBAAYO,KAAZ,GAAoBsH,KAAKtH,KAAL,IAAc,KAAlC;AACAP,iBAAY0F,MAAZ,GAAqBmC,KAAKnC,MAAL,IAAe,KAApC;;AAEA1F,iBAAYe,GAAZ,GAAkB8G,KAAK9G,GAAvB;AACAf,iBAAYoF,IAAZ,GAAmByC,KAAKzC,IAAL,IAAa,KAAhC;AACApF,iBAAYqF,OAAZ,GAAsBwC,KAAKxC,OAAL,IAAgB,UAASyC,IAAT,EAAe,CAAE,CAAvD;AACA9H,iBAAYsF,IAAZ,GAAmBuC,KAAKvC,IAAL,IAAa,UAAStB,GAAT,EAAc,CAAE,CAAhD;;AAEAhE,iBAAYC,MAAZ,GAAqB4H,KAAK5H,MAAL,IAAe,EAApC;AACAD,iBAAY4E,SAAZ,GAAwBiD,KAAKjD,SAAL,IAAkB,CACxC,UADwC,EAC5B,UAD4B,EAChB,WADgB,CAA1C;AAGA5E,iBAAY+E,MAAZ,GAAqB8C,KAAK9C,MAAL,IAAe,CAAC,OAAD,EAAU,QAAV,CAApC;;AAEA9E,YAAO8H,OAAP,GAAiBxC,SAAjB;;AAEA,SAAIvF,YAAYoH,KAAZ,IAAqBpH,YAAYqH,MAAjC,IAA2CrH,YAAYsH,QAA3D,EAAqE;AACnEtH,mBAAYmH,OAAZ,CACEnH,YAAYoH,KADd,EAEEpH,YAAYqH,MAFd,EAGErH,YAAYsH,QAHd;AAKD;AACF,IAhCD;;AAkCAtH,eAAYgI,OAAZ,GAAsB,YAAW;AAC/B/H,YAAO8H,OAAP,GAAiB,IAAjB;AACA,SAAI/H,YAAYiF,GAAZ,CAAgBC,GAApB,EAAyB;AACvBlF,mBAAYiH,WAAZ;AACD;AACF,IALD;AAMD,EA1TD;;mBA4TejH,W","file":"bugReporter.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"bugReporter\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bugReporter\"] = factory();\n\telse\n\t\troot[\"bugReporter\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d2d2e6d42a31c94b3fe4","\nconst bugReporter = window.bugReporter || {};\n\n(function() {\n  if (window.bugReporter) {\n    return;\n  }\n\n  bugReporter.getTimeStamp = function() {\n    return (new Date()).getTime();\n  };\n\n  bugReporter.log = function(content) {\n    if (bugReporter.debug) {\n      console.log(content);\n    }\n  };\n\n  bugReporter.procCatch = function(err) {\n    const data = {\n      time: bugReporter.getTimeStamp(),\n      msg: err.message,\n      url: window.location.href,\n      line: err.lineNumber,\n      col: err.columnNumber,\n      err: {\n        name: err.name,\n        number: err.number,\n        description: err.description,\n        file: err.fileName\n      },\n      stack: err.stack\n    };\n    procData(data);\n  };\n\n  bugReporter.wrap = function(fn) {\n    if (!fn.__wrapped__) {\n      fn.__wrapped__ = function() {\n        try {\n          return fn.apply(this, arguments);\n        } catch (err) {\n          bugReporter.procCatch(err);\n          throw err;\n        }\n      };\n    }\n    return fn.__wrapped__;\n  };\n\n  bugReporter.invoke = bugReporter.wrap(function(obj, method, args) {\n    return obj[method].apply(this, args);\n  });\n\n  const createXMLHTTPObject = function() {\n    let xmlhttp = false;\n    const XMLHttpFactories = [\n      function() {\n        return new XMLHttpRequest();\n      },\n      function() {\n        return new ActiveXObject('Msxml2.XMLHTTP');\n      },\n      function() {\n        return new ActiveXObject('Msxml3.XMLHTTP');\n      },\n      function() {\n        return new ActiveXObject('Microsoft.XMLHTTP');\n      }\n    ];\n\n    for (let i = 0, len = XMLHttpFactories.length; i < len; i++) {\n      try {\n        xmlhttp = XMLHttpFactories[i]();\n      } catch (e) {\n        continue;\n      }\n      break;\n    }\n\n    return xmlhttp;\n  };\n\n  const formatParams = function(params, prefix) {\n    let str = [];\n    for (let p in params) {\n      if (Object.prototype.hasOwnProperty.call(params, p)) {\n        const k = prefix ? `${prefix}[${p}]` : p;\n        const v = params[p];\n        str.push((typeof v === 'object')\n          ? formatParams(v, k)\n          : (encodeURIComponent(k) + '=' + encodeURIComponent(v))\n        );\n      }\n    }\n    return str.join('&');\n  };\n\n  bugReporter.report = function(method, url, data, cbSucs, cbFail) {\n    const req = createXMLHTTPObject();\n    if (!req) {\n      return cbFail && cbFail(req);\n    }\n\n    method = method.toUpperCase();\n    if (method === 'GET') {\n      url = `${url}?${formatParams(data)}&_t=${bugReporter.getTimeStamp()}`;\n      data = null;\n    }\n\n    req.open(method, url, true);\n    if (method === 'POST') {\n      req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    } else if (method === 'JSON') {\n      req.setRequestHeader('Content-type', 'application/json;charset=UTF-8');\n    }\n\n    if (data) {\n      data = JSON.stringify(data);\n    }\n\n    req.onreadystatechange = function() {\n      if (req.readyState === 4) {\n        if ((req.status >= 200) && (req.status < 300)) {\n          cbSucs && cbSucs(req.responseText);\n        } else {\n          cbFail && cbFail(req);\n        }\n      }\n    };\n\n    req.send(data);\n  };\n\n  const procData = function(data) {\n    if (bugReporter.window.length) {\n      data.window = {};\n    }\n    for(let i = 0, wLen = bugReporter.window.length; i < wLen; i++) {\n      data.window[\n        bugReporter.window[i]\n      ] = window[\n        bugReporter.window[i]\n      ];\n    }\n\n    if (bugReporter.navigator.length) {\n      data.navigator = {};\n    }\n    for(let j = 0, nLen = bugReporter.navigator.length; j < nLen; j++) {\n      data.navigator[\n        bugReporter.navigator[j]\n      ] = window.navigator[\n        bugReporter.navigator[j]\n      ];\n    }\n\n    if (bugReporter.screen.length) {\n      data.screen = {};\n    }\n    for(let k = 0, sLen = bugReporter.screen.length; k < sLen; k++) {\n      data.screen[\n        bugReporter.screen[k]\n      ] = window.screen[\n        bugReporter.screen[k]\n      ];\n    }\n\n    if (bugReporter.sdk.ins) {\n      bugReporter.sdk.save(data);\n    }\n\n    if (bugReporter.url) {\n      bugReporter.report(bugReporter.type, bugReporter.url,\n        data,\n        bugReporter.success,\n        bugReporter.fail\n      );\n    }\n\n    bugReporter.log(data);\n  };\n\n  const procError = function(msg, url, line, col, err) {\n    // 没有URL不上报！上报也不知道错误\n    if ((msg.toLowerCase().indexOf('script error') > -1) || !url) {\n      return !bugReporter.output;\n    }\n\n    setTimeout(function() {\n      let stack = null;\n      if (!!err && (!!err.stack || !!err.stacktrace)) {\n        //如果浏览器有堆栈信息 直接使用\n        stack = (err.stack || err.stacktrace).toString();\n      } else if (!!arguments.callee) { //尝试通过callee拿堆栈信息\n        let ext = [];\n        let f = arguments.callee.caller;\n        let c = 3; //这里只拿三层堆栈信息\n        while (f && (--c > 0)) {\n          ext.push(f.toString());\n          if (f === f.caller) {\n            break; //如果有环\n          }\n          f = f.caller;\n        }\n        stack = ext.join(',');\n      }\n\n      procData({\n        time: bugReporter.getTimeStamp(),\n        msg, url, line,\n        col: col || (window.event && window.event.errorCharacter) || 0,\n        err, stack\n      });\n    }, 0);\n\n    // 让浏览器不输出错误信息到控制台\n    return !bugReporter.output;\n  };\n\n  bugReporter.injectSDK = function(cb) {\n    const av = document.createElement('script');\n    av.setAttribute('type', 'text/javascript');\n    av.setAttribute('async', 'async');\n    av.src = bugReporter.sdk.url;\n    if (av.readyState) {\n      av.onreadystatechange = function() {\n        if (this.readyState === 'complete') {\n          av.onreadystatechange = null;\n          cb && cb();\n        }\n      };\n    } else {\n      av.onload = function() {\n        av.onload = null;\n        cb && cb();\n      };\n    }\n    const s = document.getElementsByTagName('script')[0];\n    s.parentNode.insertBefore(av, s);\n\n    bugReporter.uninjectSDK = function() {\n      av.parentNode.removeChild(av);\n    };\n  };\n\n  bugReporter.initSDK = function(appId, appKey, appClass) {\n    bugReporter.injectSDK(function() {\n      setTimeout(function() {\n        bugReporter.sdk.ins = bugReporter.sdk.init(appId, appKey, appClass);\n      }, 0);\n    });\n  };\n\n  bugReporter.sdk = {\n    ins: null,\n    url: '//cdn1.lncld.net/static/js/av-min-1.5.3.js',\n    init: function(appId, appKey, appClass) {\n      if (window.AV && window.AV.init) {\n        window.AV.init({\n          appId, appKey\n        });\n        return window.AV.Object.extend(appClass);\n      }\n    },\n    save: function(data) {\n      const lc = new bugReporter.sdk.ins();\n      lc.save(data)\n        .then(function(obj) {\n          bugReporter.log(obj);\n        }).catch(function(err) {\n          bugReporter.log(err);\n        }\n      );\n    }\n  };\n\n  bugReporter.init = function(opts) {\n    if (!opts || (!opts.url && !opts.appId && !opts.appKey && !opts.appClass)) {\n      return;\n    }\n\n    bugReporter.appId = opts.appId;\n    bugReporter.appKey = opts.appKey;\n    bugReporter.appClass = opts.appClass;\n\n    bugReporter.debug = opts.debug || false;\n    bugReporter.output = opts.output || false;\n\n    bugReporter.url = opts.url;\n    bugReporter.type = opts.type || 'GET';\n    bugReporter.success = opts.success || function(text) {};\n    bugReporter.fail = opts.fail || function(req) {};\n\n    bugReporter.window = opts.window || [];\n    bugReporter.navigator = opts.navigator || [\n      'language', 'platform', 'userAgent'\n    ];\n    bugReporter.screen = opts.screen || ['width', 'height'];\n\n    window.onerror = procError;\n\n    if (bugReporter.appId && bugReporter.appKey && bugReporter.appClass) {\n      bugReporter.initSDK(\n        bugReporter.appId,\n        bugReporter.appKey,\n        bugReporter.appClass\n      );\n    }\n  };\n\n  bugReporter.destory = function() {\n    window.onerror = null;\n    if (bugReporter.sdk.ins) {\n      bugReporter.uninjectSDK();\n    }\n  };\n})();\n\nexport default bugReporter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}